# FFmpeg macOS UI 应用 — UI/UX 设计方案

## 目录

1. [同类产品调研与分析](#1-同类产品调研与分析)
2. [应用整体布局设计](#2-应用整体布局设计)
3. [功能页面通用模板](#3-功能页面通用模板)
4. [各功能页面特殊设计](#4-各功能页面特殊设计)
5. [批量处理交互设计](#5-批量处理交互设计)
6. [自适应主题配色方案](#6-自适应主题配色方案)
7. [应用名称建议](#7-应用名称建议)

---

## 1. 同类产品调研与分析

### 1.1 HandBrake

**UI 布局**：采用经典的标签页（Tab）式布局，顶部为工具栏，中间为参数设置区域（按 Summary/Dimensions/Filters/Video/Audio/Subtitles/Chapters 分标签），底部为队列和进度。

**优点**：
- 预设系统成熟，提供按设备/用途分类的预设（如 Fast 1080p30、Web 优化等）
- 支持队列批量处理，适合大量文件转码
- 标签页组织清晰，专业用户能快速定位参数

**缺点**：
- 界面偏传统，对新手有一定学习门槛
- 所有参数暴露在同一层级，初次使用时容易感到信息过载
- 缺少内置预览播放器，需依赖外部播放
- 视觉设计较为朴素，未遵循现代 macOS 设计语言

**启发**：预设系统值得借鉴；但应避免一次性暴露过多参数，采用「预设优先 + 高级展开」的策略。

---

### 1.2 Permute

**UI 布局**：极简拖拽式界面，窗口紧凑，以缩略图图标视图展示文件，顶部选择输出格式，底部为转换按钮。

**优点**：
- macOS 原生设计语言，与系统风格高度统一
- 拖拽交互极为流畅，操作路径最短
- 缩略图视图直观展示文件内容
- 窗口管理、键盘快捷键、Finder 集成表现优秀
- UI 与后台任务分离，处理大文件时界面依然流畅

**缺点**：
- 功能集中在格式转换，编辑能力有限
- 部分功能图标需要悬停才能看到说明，可发现性较差
- 批量处理的进度细节不够丰富

**启发**：拖拽优先的交互理念值得采纳；macOS 原生设计语言是标杆；但需要在极简和功能丰富之间找到平衡。

---

### 1.3 Shutter Encoder

**UI 布局**：三栏式布局 — 左侧文件选择区、中间功能/编码选择区、右侧输出配置区。底部为进度和状态区。设置面板可折叠展开。

**优点**：
- 功能极其丰富，涵盖 AI 工具、专业编码器、多种非转换功能
- 内置视频播放器，支持实时预览
- 支持 Watch Folder 自动监控
- 输出配置灵活（FTP 上传、邮件通知、RTMP 推流）
- 右键控制台可查看实际 ffmpeg 命令

**缺点**：
- 界面功能堆叠过多，初次使用容易感到手足无措
- 布局在小屏幕上可能拥挤
- 视觉设计偏工业风，不够现代美观
- 功能分类不够直观，需要学习成本

**启发**：三栏布局对于需要同时看到文件、参数、预览的场景非常合适；控制台查看命令的功能适合进阶用户。

---

### 1.4 MiniTool Video Converter

**UI 布局**：左侧导航栏 + 右侧内容区。导航栏按功能模块分区（视频转换、视频下载、视频压缩、屏幕录制）。内容区分为「添加文件」、「转换中」、「已完成」三个状态标签。

**优点**：
- 4.0 版本从黑色主题改为白色主题，视觉更现代
- 左侧导航栏可折叠，最大化工作区
- 支持亮色/暗色主题切换
- 文件导入增加了进度条和失败提示
- 每个功能独立模块，职责清晰

**缺点**：
- 仅 Windows 平台
- 各模块功能相对单一
- 缺少高级编辑功能

**启发**：左侧导航栏 + 模块化功能的组织方式清晰；状态分组（进行中/已完成）值得参考；可折叠侧边栏提升空间利用率。

---

### 1.5 Any Video Converter

**UI 布局**：左侧导航栏包含功能工具集、历史记录和渲染队列。主区域根据选择的功能模块切换内容。每个功能作为独立模块呈现。

**优点**：
- 模块化设计，每个功能独立呈现，容易找到目标功能
- 支持亮色/暗色主题
- 工具集丰富：转换、下载、裁剪、合并、压缩、GIF 制作、音频滤镜、视频叠加
- 界面对新手和进阶用户都友好

**缺点**：
- 各模块之间缺少联动
- 部分高级功能需付费
- 整体视觉设计中规中矩

**启发**：工具集的模块化组织方式与我们的「任务卡片式」设计理念高度吻合；功能分类清晰是关键。

---

### 1.6 调研总结与设计策略

| 设计维度 | 采纳策略 | 参考来源 |
|---------|---------|---------|
| 整体架构 | 首页卡片网格 + 点击进入独立功能页 | Any Video Converter 模块化 |
| 交互模式 | 拖拽优先 + 预设优先 + 高级展开 | Permute 拖拽 + HandBrake 预设 |
| 功能页布局 | 自适应三区布局（文件区/参数区/预览区） | Shutter Encoder 三栏 |
| 进度管理 | 状态分组（处理中/已完成） | MiniTool 状态标签 |
| 视觉风格 | macOS 原生设计语言 + 现代卡片式 | Permute 原生风格 |
| 主题支持 | 跟随系统暗色/亮色自适应 | MiniTool + Any Video Converter |

---

## 2. 应用整体布局设计

### 2.1 窗口规格

```
默认窗口大小：1120 x 740 px
最小窗口大小：900 x 600 px
最大窗口大小：跟随屏幕尺寸（可最大化）
窗口可自由缩放
```

**理由**：1120x740 在 13 寸和 14 寸 MacBook 上均有良好表现，既能容纳三区布局，又不会显得拥挤或空旷。

### 2.2 导航结构

采用**扁平化两层导航**：

```
层级 1：首页（功能卡片网格）
层级 2：功能页面（点击卡片进入）
```

**顶部标题栏**（与 macOS 窗口标题栏融合）：
- 左侧：窗口控制按钮（红/黄/绿）
- 中间：应用名称 / 当前功能页名称
- 右侧：设置按钮（齿轮图标）

**面包屑导航**（功能页内）：
```
首页 > 格式转换
首页 > 视频裁剪
```
点击「首页」可快速返回卡片页。

### 2.3 首页功能卡片设计

#### 布局方式：3x3 网格

采用 3x3 等间距网格排列 9 个功能卡片，居中显示在窗口内。

```
┌─────────────────────────────────────────────────────┐
│  [应用名称]                              [设置] │
│                                                     │
│    ┌──────────┐  ┌──────────┐  ┌──────────┐        │
│    │  [图标]  │  │  [图标]  │  │  [图标]  │        │
│    │ 格式转换 │  │ 视频压缩 │  │ 裁剪剪切 │        │
│    │ 简短描述 │  │ 简短描述 │  │ 简短描述 │        │
│    └──────────┘  └──────────┘  └──────────┘        │
│                                                     │
│    ┌──────────┐  ┌──────────┐  ┌──────────┐        │
│    │  [图标]  │  │  [图标]  │  │  [图标]  │        │
│    │ 合并拼接 │  │ 音频处理 │  │ 加水印   │        │
│    │ 简短描述 │  │ 简短描述 │  │ 简短描述 │        │
│    └──────────┘  └──────────┘  └──────────┘        │
│                                                     │
│    ┌──────────┐  ┌──────────┐  ┌──────────┐        │
│    │  [图标]  │  │  [图标]  │  │  [图标]  │        │
│    │ 分辨率   │  │ GIF制作  │  │ 字幕处理 │        │
│    │ 简短描述 │  │ 简短描述 │  │ 简短描述 │        │
│    └──────────┘  └──────────┘  └──────────┘        │
│                                                     │
│  [底部状态栏: ffmpeg 版本 | 快捷拖拽提示]           │
└─────────────────────────────────────────────────────┘
```

#### 单张卡片设计

```
尺寸：240 x 180 px（含内边距）
圆角：12px
间距：卡片间距 20px

┌──────────────────────┐
│                      │
│      [功能图标]       │    ← 48x48 px 线性图标（强调色）
│                      │
│     功能名称          │    ← 16px 粗体
│                      │
│  一句话功能描述       │    ← 13px 次要文字色
│                      │
└──────────────────────┘
```

**卡片交互**：
- **Hover**：卡片轻微上浮（translateY: -2px），阴影加深，背景色微调
- **Click**：卡片短暂按下动画（scale: 0.98），然后过渡到功能页面
- **快捷拖拽**：支持直接拖拽文件到卡片上，自动进入对应功能页并加载文件

#### 9 张功能卡片内容

| 序号 | 名称 | 图标描述 | 简述 |
|-----|------|---------|------|
| 1 | 格式转换 | 两个箭头环绕的文件图标 | 转换视频到 MP4/MOV/AVI 等格式 |
| 2 | 视频压缩 | 向内收缩的箭头 | 智能压缩，保持画质降低体积 |
| 3 | 裁剪剪切 | 剪刀 + 时间轴 | 截取片段、去头去尾 |
| 4 | 合并拼接 | 多个方块合成一个 | 多个视频合为一个 |
| 5 | 音频处理 | 音波 + 音符 | 提取音频、替换配音、调节音量 |
| 6 | 加水印 | 图层叠加 + 文字 T | 添加图片水印或文字水印 |
| 7 | 分辨率调整 | 网格 + 放大镜 | 调整分辨率、帧率、比例 |
| 8 | GIF 制作 | 循环播放图标 | 视频片段转 GIF 动图 |
| 9 | 字幕处理 | 对话气泡 + CC | 嵌入字幕、提取字幕、调整时间轴 |

### 2.4 底部状态栏

```
高度：32px
左侧：ffmpeg 版本信息（如 "ffmpeg 6.1.1"）
中间：快捷提示（如 "拖拽文件到卡片上可快速开始"）
右侧：处理队列状态（如 "2 个任务进行中"）← 点击可查看队列
```

---

## 3. 功能页面通用模板

### 3.1 整体布局结构

功能页面采用**自适应两栏/三区布局**，根据窗口宽度自动调整：

```
宽屏模式（>= 1100px）：水平三区

┌─────────────────────────────────────────────────────────┐
│  [← 首页]  格式转换                          [设置]     │
├─────────────────────────────────────────────────────────┤
│              │                    │                     │
│   文件区     │    参数设置区       │     预览区          │
│   (280px)    │    (自适应)        │     (360px)         │
│              │                    │                     │
│  ┌────────┐  │  ┌──────────────┐  │  ┌───────────────┐ │
│  │拖拽上传│  │  │ 预设选择     │  │  │               │ │
│  │        │  │  │              │  │  │  视频预览     │ │
│  └────────┘  │  │ 输出格式     │  │  │  播放器       │ │
│              │  │ 编码器       │  │  │               │ │
│  文件列表    │  │ 画质/码率    │  │  └───────────────┘ │
│  ┌────────┐  │  │              │  │                     │
│  │ file1  │  │  │ [高级选项 ▼] │  │  文件信息          │
│  │ file2  │  │  │              │  │  ┌───────────────┐ │
│  │ file3  │  │  └──────────────┘  │  │ 大小/时长/    │ │
│  └────────┘  │                    │  │ 编码/分辨率   │ │
│              │                    │  └───────────────┘ │
├──────────────┴────────────────────┴─────────────────────┤
│  [取消]                    [进度条]        [开始处理 ▶] │
└─────────────────────────────────────────────────────────┘
```

```
窄屏模式（< 1100px）：垂直堆叠

┌──────────────────────────────────┐
│  [← 首页]  格式转换    [设置]   │
├──────────────────────────────────┤
│  文件区（拖拽上传 + 文件列表）   │
├──────────────────────────────────┤
│  参数设置区 + 预览区（标签切换） │
├──────────────────────────────────┤
│  [取消]    [进度条]   [开始 ▶]  │
└──────────────────────────────────┘
```

### 3.2 文件区详细设计

#### 拖拽上传区

```
┌──────────────────────────┐
│                          │
│     [上传云图标]          │
│                          │
│  拖拽文件到此处           │
│  或 点击选择文件          │
│                          │
│  支持: mp4/mov/avi/mkv   │
│                          │
└──────────────────────────┘
```

**交互细节**：
- 拖拽进入区域时：边框变为强调色虚线，背景变为强调色半透明
- 支持多文件同时拖入
- 支持从 Finder 拖入文件夹（自动扫描视频文件）
- 不支持的文件类型显示红色提示

#### 文件列表

```
┌──────────────────────────┐
│ [缩略图] video1.mp4      │ ← 选中状态（高亮背景）
│          1080p · 2:30     │
│          45.2 MB    [×]  │
├──────────────────────────┤
│ [缩略图] video2.mov      │
│          4K · 5:12        │
│          312 MB     [×]  │
├──────────────────────────┤
│ [缩略图] video3.avi      │
│          720p · 1:05      │
│          28.7 MB    [×]  │
└──────────────────────────┘
│  已添加 3 个文件          │
│  [+ 添加更多] [清空列表]  │
```

**文件列表交互**：
- 点击文件项：选中并在预览区显示
- 双击文件项：在系统默认播放器中打开
- 右键文件项：上下文菜单（在 Finder 中显示 / 移除 / 查看详情）
- 拖拽文件项：重新排序（合并功能中）
- [x] 按钮：移除文件

### 3.3 参数设置区详细设计

#### 预设选择器

```
┌──────────────────────────────┐
│  预设方案                     │
│  ┌──────────────────────────┐│
│  │ 🎯 推荐：MP4 (H.264)   ▼││ ← 下拉选择
│  └──────────────────────────┘│
│                              │
│  快捷预设：                   │
│  [社交媒体] [网页] [存档]    │ ← 标签按钮组
│  [移动设备] [4K高质量]       │
│                              │
└──────────────────────────────┘
```

#### 参数面板（预设优先 + 高级展开）

```
┌──────────────────────────────┐
│  输出设置                     │
│                              │
│  输出格式    [MP4         ▼] │
│  视频编码    [H.264       ▼] │
│  画质级别    [━━━━●━━━━━━━━] │ ← 滑块：低/中/高/极高
│             中等画质 (~8Mbps) │
│                              │
│  ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─│
│                              │
│  ▶ 高级选项                   │ ← 点击展开
│  ┌──────────────────────────┐│
│  │ 视频码率  [自动      ▼]  ││
│  │ 音频编码  [AAC       ▼]  ││
│  │ 音频码率  [128kbps   ▼]  ││
│  │ 采样率    [44100Hz   ▼]  ││
│  │ 硬件加速  [☑ 启用]       ││
│  │ 额外参数  [__________]   ││ ← 自定义 ffmpeg 参数
│  └──────────────────────────┘│
│                              │
│  输出目录                     │
│  [📁 ~/Desktop/output    ]  │ ← 点击选择 / 拖拽文件夹
│  [☐ 与源文件同目录]          │
│                              │
└──────────────────────────────┘
```

**设计原则**：
- 默认只显示核心参数（3-4 个），预设自动填充
- 高级选项折叠隐藏，点击展开
- 每个参数旁有 (?) 提示图标，悬停显示说明
- 自定义 ffmpeg 参数输入框供专业用户使用

### 3.4 预览区详细设计

#### 视频预览播放器

```
┌──────────────────────────┐
│                          │
│                          │
│     [视频预览画面]        │
│                          │
│                          │
├──────────────────────────┤
│ ▶ ━━━━━●━━━━━━━━ 1:23/2:30│ ← 播放控制 + 进度条
│ [🔇] [━━●━━] [⛶]        │ ← 音量 + 全屏
└──────────────────────────┘
```

**预览播放器特性**：
- 支持播放/暂停、拖拽进度条
- 显示当前时间/总时长
- 音量控制
- 全屏预览
- 帧步进（逐帧前进/后退按钮）
- 对比预览：处理前/后并排或叠加对比

#### 文件信息面板

```
┌──────────────────────────┐
│  📋 文件信息              │
│  ────────────────────── │
│  文件名：video1.mp4      │
│  大小：45.2 MB           │
│  时长：2:30              │
│  分辨率：1920x1080       │
│  帧率：30fps             │
│  编码：H.264 / AAC      │
│  比特率：12.5 Mbps       │
│                          │
│  📊 预估输出              │
│  ────────────────────── │
│  预估大小：~22 MB        │
│  预估时间：~45秒         │
└──────────────────────────┘
```

### 3.5 底部操作栏

```
┌──────────────────────────────────────────────────────────┐
│                                                          │
│  [取消]                                  [开始处理 ▶]    │
│                                                          │
└──────────────────────────────────────────────────────────┘

处理中状态：
┌──────────────────────────────────────────────────────────┐
│                                                          │
│  [取消处理]   ━━━━━━━━━━━━━━●━━━━━━  68%   [暂停 ⏸]    │
│               正在处理: video1.mp4  预计剩余: 1:23       │
│                                                          │
└──────────────────────────────────────────────────────────┘
```

---

## 4. 各功能页面特殊设计

### 4.1 格式转换页

基于通用模板，额外增加：

- **格式对照面板**：源格式 → 目标格式的可视化映射
- **批量统一设置**：一键将所有文件应用相同输出设置
- **预估体积**：根据参数实时预估输出文件大小

### 4.2 视频压缩页

- **压缩模式选择器**：
  ```
  [按目标大小] [按压缩比] [按画质等级]
  ```
  - 按目标大小：输入目标 MB 数，自动计算码率
  - 按压缩比：选择 30%/50%/70% 等预设比例
  - 按画质等级：滑块选择 1-10 档位

- **压缩预览**：显示预估压缩后画质对比（缩略图）

### 4.3 裁剪剪切页

#### 时间轴选择器交互设计

```
┌──────────────────────────────────────────────────────┐
│  [视频预览播放器]                                     │
│                                                      │
├──────────────────────────────────────────────────────┤
│                                                      │
│  视频缩略图时间轴                                     │
│  ┌──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┐ │
│  │▓▓│▓▓│▓▓│▓▓│▓▓│▓▓│▓▓│▓▓│▓▓│▓▓│▓▓│▓▓│▓▓│▓▓│▓▓│▓▓│ │
│  └──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┘ │
│       ┃◄═══════════════════════════════►┃            │
│     [入点]                           [出点]          │
│     0:15.00                         1:45.00         │
│                    ▼                                 │
│                  当前: 0:52.30                        │
│                                                      │
│  精确输入：                                           │
│  入点 [00:00:15.000]  出点 [00:01:45.000]            │
│  时长 [00:01:30.000]                                 │
│                                                      │
│  [+ 添加片段]  已选 1 个片段                          │
│                                                      │
│  片段列表：                                           │
│  ┌──────────────────────────────────────────────┐    │
│  │ #1  0:15 → 1:45  (时长 1:30)        [× 删除]│    │
│  └──────────────────────────────────────────────┘    │
│                                                      │
└──────────────────────────────────────────────────────┘
```

**时间轴交互细节**：
- **缩略图条**：将视频按时间均匀切割为缩略图帧，形成可视化时间轴
- **拖拽手柄**：入点和出点为可拖拽的竖线手柄，拖拽时实时更新预览画面
- **选区高亮**：入点与出点之间的区域显示为强调色半透明覆盖
- **当前帧指示器**：三角形指示当前播放位置，可拖拽跳转
- **滚轮缩放**：在时间轴上滚轮可缩放时间精度（从全局视图到逐帧视图）
- **精确输入**：支持手动输入时间码，精确到毫秒
- **多片段**：支持添加多个裁剪片段，每个片段独立导出或合并导出
- **键盘快捷键**：I 设入点、O 设出点、空格播放/暂停、左右方向键逐帧移动

### 4.4 合并拼接页

#### 文件排序拖拽设计

```
┌──────────────────────────────────────────────────┐
│  拖拽排列视频顺序                                 │
│                                                  │
│  ┌─────────────────────────────────────────────┐ │
│  │ ≡  1  [缩略图] video_intro.mp4    0:15  [×]│ │ ← 拖拽手柄
│  ├─────────────────────────────────────────────┤ │
│  │ ≡  2  [缩略图] video_main.mp4     3:20  [×]│ │
│  ├─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┤ │ ← 拖拽时显示插入线
│  │ ≡  3  [缩略图] video_ending.mp4   0:30  [×]│ │
│  └─────────────────────────────────────────────┘ │
│                                                  │
│  [+ 添加文件]  总时长: 4:05                       │
│                                                  │
│  转场设置：                                       │
│  [无转场 ▼]  ← 无转场 / 淡入淡出 / 黑场过渡      │
│  转场时长：[0.5秒 ▼]                              │
│                                                  │
│  预览时间轴：                                     │
│  ┌────┬────────────────┬──────┐                  │
│  │ 1  │       2        │  3   │                  │
│  └────┴────────────────┴──────┘                  │
│  0:00         2:00          4:05                  │
│                                                  │
└──────────────────────────────────────────────────┘
```

**拖拽交互细节**：
- 左侧 ≡ 图标为拖拽手柄，长按或拖拽开始排序
- 拖拽中的项目半透明化，出现投影效果
- 放置位置显示蓝色插入指示线
- 支持键盘方向键上下移动顺序
- 底部预览时间轴按比例显示各片段时长占比
- 不同片段用不同颜色区分

### 4.5 音频处理页

```
┌──────────────────────────────────────────────────┐
│  处理模式                                         │
│  ┌───────┐ ┌───────┐ ┌───────┐ ┌───────┐       │
│  │ 提取  │ │ 替换  │ │ 静音  │ │ 调节  │       │
│  │ 音频  │ │ 配音  │ │ 消音  │ │ 音量  │       │
│  └───────┘ └───────┘ └───────┘ └───────┘       │
│                                                  │
│  [根据模式切换的参数面板]                          │
│                                                  │
│  音频波形可视化：                                  │
│  ┌──────────────────────────────────────────┐    │
│  │ ▁▃▅▇█▇▅▃▁ ▁▃▅▇█▇▅▃▁ ▁▃▅▇█▇▅▃▁        │    │
│  └──────────────────────────────────────────┘    │
│                                                  │
└──────────────────────────────────────────────────┘
```

**音频提取模式**：选择输出格式（MP3/AAC/WAV/FLAC），设置采样率和比特率
**替换配音模式**：拖入替换音频文件，可调节原音/新音频音量比
**静音消音模式**：在时间轴上选择需要静音的区间
**音量调节模式**：全局音量增减滑块，显示 dB 值

### 4.6 加水印 / 文字页

#### 水印位置可视化选择

```
┌──────────────────────────────────────────────────┐
│  水印类型                                         │
│  [图片水印] [文字水印]  ← 标签切换                │
│                                                  │
│  位置选择：                                       │
│  ┌──────────────────────────────────┐            │
│  │                                  │            │
│  │  ┌──┐                    ┌──┐   │            │
│  │  │TL│                    │TR│   │ ← 九宫格   │
│  │  └──┘                    └──┘   │   快捷定位  │
│  │                                  │            │
│  │          ┌──┐                    │            │
│  │          │CC│  ← 可拖拽水印      │            │
│  │          └──┘                    │            │
│  │                                  │            │
│  │  ┌──┐                    ┌──┐   │            │
│  │  │BL│       [水印预览]   │BR│   │            │
│  │  └──┘                    └──┘   │            │
│  │                                  │            │
│  └──────────────────────────────────┘            │
│                                                  │
│  精确位置：X [120] px   Y [80] px                │
│                                                  │
│  图片水印设置：                                   │
│  水印文件：[选择图片...]                          │
│  大小：    [━━━━━●━━━] 50%                       │
│  透明度：  [━━━━━━━●━] 80%                       │
│  旋转：    [0°       ▼]                          │
│                                                  │
│  ─── 或 ───                                      │
│                                                  │
│  文字水印设置：                                   │
│  文字内容：[自定义水印文字____]                    │
│  字体：    [PingFang SC   ▼]                     │
│  字号：    [24px          ▼]                     │
│  颜色：    [● 白色 ▼] [透明度: 80%]              │
│  描边：    [☑ 启用] 颜色 [● 黑色] 宽度 [2px]     │
│                                                  │
└──────────────────────────────────────────────────┘
```

**水印位置交互**：
- 预览区内的水印可以自由拖拽定位
- 九宫格快捷按钮（TL/TR/CC/BL/BR 等）一键定位到预设位置
- 精确像素值输入框与拖拽联动
- 实时预览水印在视频上的叠加效果
- 支持水印缩放（滚轮或滑块）

### 4.7 分辨率 / 帧率调整页

```
┌──────────────────────────────────────────────────┐
│  分辨率设置                                       │
│                                                  │
│  预设分辨率：                                     │
│  [4K 2160p] [1080p] [720p] [480p] [自定义]       │
│                                                  │
│  自定义：                                         │
│  宽度 [1920] × 高度 [1080]  [☑ 保持比例]         │
│                                                  │
│  缩放算法：[Lanczos (高质量) ▼]                   │
│                                                  │
│  ──────────────────────────────────────          │
│                                                  │
│  帧率设置                                         │
│  目标帧率：[30fps ▼]                              │
│  预设：[60fps] [30fps] [24fps] [15fps] [自定义]  │
│                                                  │
│  ──────────────────────────────────────          │
│                                                  │
│  画面比例                                         │
│  [16:9] [4:3] [1:1] [9:16] [自定义]              │
│  处理方式：[● 裁剪适应] [○ 加黑边] [○ 拉伸]     │
│                                                  │
│  预览对比：                                       │
│  ┌──────────────┐  ┌──────────────┐              │
│  │  源: 4K 60fps│  │  输出:1080p  │              │
│  │              │  │    30fps     │              │
│  └──────────────┘  └──────────────┘              │
│                                                  │
└──────────────────────────────────────────────────┘
```

### 4.8 GIF 制作页

#### GIF 预览设计

```
┌──────────────────────────────────────────────────┐
│  源视频预览                GIF 实时预览            │
│  ┌────────────────┐       ┌────────────────┐     │
│  │                │       │                │     │
│  │  [视频播放器]  │  →→→  │  [GIF 动画    │     │
│  │                │       │   预览效果]    │     │
│  │                │       │                │     │
│  └────────────────┘       └────────────────┘     │
│                                                  │
│  时间轴选择器（复用裁剪组件）                      │
│  ┌──────────────────────────────────────────┐    │
│  │▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│    │
│  └──────────────────────────────────────────┘    │
│       ┃◄══════════════════►┃                     │
│     开始: 0:05            结束: 0:12             │
│                                                  │
│  GIF 设置：                                      │
│  宽度：    [480] px  [☑ 保持比例]                │
│  帧率：    [15fps ▼]    ← 10/15/20/25/30        │
│  循环：    [☑ 无限循环]                          │
│  色彩质量：[━━━━━●━━━━] 中等                     │
│  抖动算法：[Floyd-Steinberg ▼]                   │
│                                                  │
│  预估大小：~2.3 MB                               │
│  实际帧数：105 帧                                │
│                                                  │
│  [生成预览]  [导出 GIF]                          │
│                                                  │
└──────────────────────────────────────────────────┘
```

**GIF 预览交互**：
- 左侧源视频播放器播放原始视频
- 右侧 GIF 预览区在「生成预览」后播放实际 GIF 效果
- 支持时间轴选择器选定 GIF 片段范围
- 参数修改后可重新「生成预览」查看效果
- 实时显示预估 GIF 文件大小

### 4.9 字幕处理页

```
┌──────────────────────────────────────────────────┐
│  处理模式                                         │
│  ┌───────┐ ┌───────┐ ┌───────┐                  │
│  │ 嵌入  │ │ 提取  │ │ 调整  │                  │
│  │ 字幕  │ │ 字幕  │ │ 时间轴│                  │
│  └───────┘ └───────┘ └───────┘                  │
│                                                  │
│  字幕文件：                                       │
│  [拖拽或选择 .srt/.ass/.vtt 文件]                │
│                                                  │
│  字幕预览：                                       │
│  ┌──────────────────────────────────────────┐    │
│  │                                          │    │
│  │              [视频画面]                   │    │
│  │                                          │    │
│  │     ════════════════════════             │    │
│  │      这是预览的字幕文字效果              │    │
│  │     ════════════════════════             │    │
│  │                                          │    │
│  └──────────────────────────────────────────┘    │
│                                                  │
│  字幕样式（嵌入模式）：                           │
│  字体：    [PingFang SC    ▼]                    │
│  字号：    [36px           ▼]                    │
│  颜色：    [● 白色 ▼]                            │
│  描边：    [☑ 启用] 颜色 [● 黑色] 宽度 [2px]     │
│  背景：    [☐ 半透明黑底]                        │
│  位置：    [底部居中 ▼]  偏移 Y: [50px]          │
│                                                  │
│  时间轴偏移（调整模式）：                         │
│  整体偏移：[+0.5秒 ▼]  ← 滑块或输入              │
│                                                  │
│  字幕列表编辑器：                                 │
│  ┌─────┬────────────┬────────────┬────────────┐  │
│  │ #   │ 开始时间   │ 结束时间   │ 字幕内容   │  │
│  ├─────┼────────────┼────────────┼────────────┤  │
│  │ 1   │ 00:00:01   │ 00:00:04   │ 你好世界   │  │
│  │ 2   │ 00:00:05   │ 00:00:08   │ 这是字幕   │  │
│  └─────┴────────────┴────────────┴────────────┘  │
│                                                  │
└──────────────────────────────────────────────────┘
```

---

## 5. 批量处理交互设计

### 5.1 多文件拖入反馈

```
拖入前 → 拖入中 → 验证 → 添加完成

1. 拖入中状态：
   ┌──────────────────────────┐
   │                          │
   │   ╔══════════════════╗   │  ← 虚线边框变为强调色
   │   ║                  ║   │
   │   ║  释放以添加文件   ║   │  ← 提示文字
   │   ║  检测到 5 个文件  ║   │  ← 实时显示文件数
   │   ║                  ║   │
   │   ╚══════════════════╝   │
   │                          │
   └──────────────────────────┘

2. 验证阶段（瞬时）：
   - 自动过滤不支持的文件类型
   - Toast 提示："已添加 4 个文件，1 个文件格式不支持"

3. 添加完成：
   - 文件列表更新，新增文件有入场动画（从上方滑入）
   - 列表滚动到新添加的文件位置
```

### 5.2 批量进度展示

```
┌──────────────────────────────────────────────────────┐
│  批量处理进度                                         │
│                                                      │
│  总进度：━━━━━━━━━━━━━━━━●━━━━━━━━  3/8 文件  37%    │
│  预计剩余时间：约 5 分 30 秒                          │
│                                                      │
│  ┌────────────────────────────────────────────────┐  │
│  │ ✅ video1.mp4    → output1.mp4     完成  12MB │  │
│  │ ✅ video2.mp4    → output2.mp4     完成  8MB  │  │
│  │ 🔄 video3.mp4    → output3.mp4     68%   ---  │  │ ← 当前处理项高亮
│  │    ━━━━━━━━━━━━━━●━━━━━━━━━━  68%             │  │
│  │ ⏳ video4.mp4    → output4.mp4     等待中     │  │
│  │ ⏳ video5.mp4    → output5.mp4     等待中     │  │
│  │ ⏳ video6.mp4    → output6.mp4     等待中     │  │
│  │ ⏳ video7.mp4    → output7.mp4     等待中     │  │
│  │ ⏳ video8.mp4    → output8.mp4     等待中     │  │
│  └────────────────────────────────────────────────┘  │
│                                                      │
│  [取消全部]                              [暂停 ⏸]    │
│                                                      │
└──────────────────────────────────────────────────────┘
```

### 5.3 处理完成通知

**应用内通知**：
```
┌──────────────────────────────────┐
│  ✅ 批量处理完成                  │
│  成功: 7 个  失败: 1 个          │
│  总用时: 3 分 42 秒              │
│  输出目录: ~/Desktop/output      │
│                                  │
│  [打开目录]  [查看详情]  [关闭] │
└──────────────────────────────────┘
```

**系统级通知**：
- 使用 macOS 原生通知中心
- 通知标题："批量处理完成"
- 通知内容："7 个文件处理成功，1 个失败"
- 点击通知：聚焦应用窗口

**失败处理**：
- 失败的文件在列表中标红，显示错误原因
- 支持「重试失败项」一键重新处理
- 支持「跳过失败，继续剩余」

---

## 6. 自适应主题配色方案

### 6.1 设计原则

- 跟随系统 `prefers-color-scheme` 自动切换
- 使用 CSS 自定义属性（CSS Variables）统一管理
- 符合 macOS Human Interface Guidelines
- 确保 WCAG 2.1 AA 级对比度标准

### 6.2 亮色模式配色

```
背景层级：
  - 主背景（窗口）：  #FAFAFA   ← 极浅灰，避免纯白刺眼
  - 次级背景（卡片）：#FFFFFF   ← 纯白，卡片浮层
  - 三级背景（输入框）：#F5F5F7 ← 浅灰，输入区域

文字层级：
  - 主要文字：       #1D1D1F   ← 近黑色，高可读性
  - 次要文字：       #6E6E73   ← 中灰，描述性文字
  - 占位符文字：     #AEAEB2   ← 浅灰，placeholder

边框与分割：
  - 边框：          #E5E5EA    ← 极浅灰
  - 分割线：        #E5E5EA
  - 卡片阴影：      rgba(0, 0, 0, 0.08)

状态色：
  - 成功：          #34C759    ← 绿色
  - 警告：          #FF9500    ← 橙色
  - 错误：          #FF3B30    ← 红色
  - 信息：          #007AFF    ← 蓝色
```

### 6.3 暗色模式配色

```
背景层级：
  - 主背景（窗口）：  #1C1C1E   ← 深灰，非纯黑
  - 次级背景（卡片）：#2C2C2E   ← 稍浅灰，浮层
  - 三级背景（输入框）：#3A3A3C ← 中灰，输入区域

文字层级：
  - 主要文字：       #F5F5F7   ← 近白色
  - 次要文字：       #8E8E93   ← 中灰
  - 占位符文字：     #636366   ← 深灰

边框与分割：
  - 边框：          #38383A
  - 分割线：        #38383A
  - 卡片阴影：      rgba(0, 0, 0, 0.3)

状态色（暗色调亮）：
  - 成功：          #30D158
  - 警告：          #FF9F0A
  - 错误：          #FF453A
  - 信息：          #0A84FF
```

### 6.4 强调色

```
主强调色：#6C5CE7（紫蓝色）
  - 理由：与视频/创意工作关联度高，在亮暗两种模式下都有良好表现
  - 亮色模式变体：#6C5CE7
  - 暗色模式变体：#7C6CF7（稍微提亮）

强调色用途：
  - 功能卡片图标颜色
  - 选中/激活状态
  - 主操作按钮背景
  - 进度条填充色
  - 链接和可交互元素

次强调色：#00C9A7（青绿色）
  - 用于：成功状态强化、预览区域标识
```

### 6.5 CSS 变量定义

```css
:root {
  /* ===== 亮色模式（默认） ===== */

  /* 背景色 */
  --color-bg-primary: #FAFAFA;
  --color-bg-secondary: #FFFFFF;
  --color-bg-tertiary: #F5F5F7;
  --color-bg-hover: #F0F0F2;
  --color-bg-active: #E8E8ED;

  /* 文字色 */
  --color-text-primary: #1D1D1F;
  --color-text-secondary: #6E6E73;
  --color-text-placeholder: #AEAEB2;
  --color-text-disabled: #C7C7CC;
  --color-text-inverse: #FFFFFF;

  /* 边框与分割 */
  --color-border: #E5E5EA;
  --color-border-focus: #6C5CE7;
  --color-divider: #E5E5EA;

  /* 强调色 */
  --color-accent: #6C5CE7;
  --color-accent-hover: #5B4BD6;
  --color-accent-active: #4A3BC5;
  --color-accent-light: rgba(108, 92, 231, 0.12);
  --color-accent-secondary: #00C9A7;

  /* 状态色 */
  --color-success: #34C759;
  --color-warning: #FF9500;
  --color-error: #FF3B30;
  --color-info: #007AFF;

  /* 阴影 */
  --shadow-card: 0 1px 3px rgba(0, 0, 0, 0.08), 0 1px 2px rgba(0, 0, 0, 0.06);
  --shadow-card-hover: 0 4px 12px rgba(0, 0, 0, 0.12), 0 2px 4px rgba(0, 0, 0, 0.08);
  --shadow-dropdown: 0 4px 16px rgba(0, 0, 0, 0.12);
  --shadow-modal: 0 8px 32px rgba(0, 0, 0, 0.16);

  /* 圆角 */
  --radius-sm: 6px;
  --radius-md: 10px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-full: 9999px;

  /* 间距 */
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;
  --spacing-2xl: 48px;

  /* 字体 */
  --font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display',
                 'Helvetica Neue', 'PingFang SC', sans-serif;
  --font-size-xs: 11px;
  --font-size-sm: 13px;
  --font-size-md: 15px;
  --font-size-lg: 17px;
  --font-size-xl: 20px;
  --font-size-2xl: 24px;
  --font-size-3xl: 30px;

  /* 动画 */
  --transition-fast: 150ms ease;
  --transition-normal: 250ms ease;
  --transition-slow: 350ms ease;

  /* 进度条 */
  --progress-height: 6px;
  --progress-bg: #E5E5EA;
  --progress-fill: #6C5CE7;

  /* 播放器 */
  --player-bg: #000000;
  --player-controls-bg: rgba(0, 0, 0, 0.7);
}

/* ===== 暗色模式 ===== */
@media (prefers-color-scheme: dark) {
  :root {
    /* 背景色 */
    --color-bg-primary: #1C1C1E;
    --color-bg-secondary: #2C2C2E;
    --color-bg-tertiary: #3A3A3C;
    --color-bg-hover: #3A3A3C;
    --color-bg-active: #48484A;

    /* 文字色 */
    --color-text-primary: #F5F5F7;
    --color-text-secondary: #8E8E93;
    --color-text-placeholder: #636366;
    --color-text-disabled: #48484A;
    --color-text-inverse: #1D1D1F;

    /* 边框与分割 */
    --color-border: #38383A;
    --color-border-focus: #7C6CF7;
    --color-divider: #38383A;

    /* 强调色 */
    --color-accent: #7C6CF7;
    --color-accent-hover: #8D7EF8;
    --color-accent-active: #6C5CE7;
    --color-accent-light: rgba(124, 108, 247, 0.15);
    --color-accent-secondary: #30E8C8;

    /* 状态色 */
    --color-success: #30D158;
    --color-warning: #FF9F0A;
    --color-error: #FF453A;
    --color-info: #0A84FF;

    /* 阴影 */
    --shadow-card: 0 1px 3px rgba(0, 0, 0, 0.2), 0 1px 2px rgba(0, 0, 0, 0.15);
    --shadow-card-hover: 0 4px 12px rgba(0, 0, 0, 0.3), 0 2px 4px rgba(0, 0, 0, 0.2);
    --shadow-dropdown: 0 4px 16px rgba(0, 0, 0, 0.35);
    --shadow-modal: 0 8px 32px rgba(0, 0, 0, 0.4);

    /* 进度条 */
    --progress-bg: #38383A;
    --progress-fill: #7C6CF7;

    /* 播放器 */
    --player-controls-bg: rgba(0, 0, 0, 0.8);
  }
}
```

---

## 7. 应用名称建议

| 名称 | 含义/理由 | 特点 |
|------|----------|------|
| **ClipForge** | Clip（片段）+ Forge（锻造） | 简洁有力，暗示将视频素材锻造成成品；.com 可用性高 |
| **FrameCut** | Frame（帧）+ Cut（剪辑） | 直接体现视频处理核心概念；易记易拼写 |
| **VidKit** | Video（视频）+ Kit（工具包） | 强调工具集属性；极简命名风格，适合开发者群体 |
| **MediaFlow** | Media（媒体）+ Flow（流动） | 体现批量处理的流畅感；适合内容创作者定位 |
| **CastLab** | Cast（铸造/投射）+ Lab（实验室） | 暗示创意工作台的概念；有专业感又不失亲和力 |

**推荐首选**：**ClipForge** — 名称独特不易撞名，读音朗朗上口，Clip 直接关联视频剪辑，Forge 暗示专业的加工/锻造过程，适合面向内容创作者的定位。

---

## 附录 A：功能图标设计参考

建议使用一致的线性图标风格（stroke width: 1.5px），强调色填充关键元素。推荐图标库：

- **Lucide Icons**：开源，风格统一，React 组件化支持好
- **Heroicons**：由 Tailwind 团队维护，macOS 风格契合
- **Phosphor Icons**：支持多种粗细变体，灵活度高

## 附录 B：关键交互动画规范

| 场景 | 动画 | 时长 | 缓动函数 |
|------|------|------|---------|
| 卡片 hover | translateY(-2px) + shadow | 150ms | ease |
| 卡片点击 | scale(0.98) | 100ms | ease-in |
| 页面切换 | 淡入 + 右滑 | 250ms | ease-out |
| 返回首页 | 淡入 + 左滑 | 250ms | ease-out |
| 文件拖拽悬停 | 边框虚线 + 背景色渐变 | 200ms | ease |
| 进度条增长 | width 变化 | 300ms | linear |
| Toast 出现 | 从顶部滑入 + 淡入 | 200ms | ease-out |
| Toast 消失 | 向上滑出 + 淡出 | 150ms | ease-in |
| 面板展开/折叠 | height + opacity | 250ms | ease |
| 文件列表项入场 | 从上方滑入 + 淡入 | 200ms | ease-out |

## 附录 C：键盘快捷键规划

| 快捷键 | 功能 | 适用范围 |
|--------|------|---------|
| Cmd + O | 打开文件 | 全局 |
| Cmd + , | 打开设置 | 全局 |
| Cmd + 1~9 | 切换到对应功能 | 首页 |
| Escape | 返回首页 / 取消操作 | 功能页 |
| Space | 播放/暂停预览 | 预览区 |
| I | 设置入点 | 裁剪/GIF |
| O | 设置出点 | 裁剪/GIF |
| Left/Right | 逐帧前进/后退 | 预览区 |
| Cmd + Enter | 开始处理 | 功能页 |
| Cmd + Z | 撤销上一步操作 | 功能页 |
| Cmd + Shift + Z | 重做操作 | 功能页 |
| Delete | 移除选中文件 | 文件列表 |
| Cmd + A | 全选文件 | 文件列表 |

---

*文档版本：v1.0*
*设计日期：2026-02-08*
*技术栈：Tauri 2.0 + React + CSS Variables*
